<div class="row">
	<div class="col-md-12 grid-margin stretch-card">
		<div class="card">
			<div class="card-body">
				<h4 class="card-title mb-4" style="text-align: center;">USERS</h4>
				<div class="row">
					<div class="col-lg-12 grid-margin">
						<form>
							<!-- <div class="d-flex justify-content-between"> -->
							<div class="form-group form-inline">
								Search: <input class="form-control ml-2" name="searchTerm" type="text"
									[(ngModel)]="service.searchTerm" />
								<span class="ml-3" *ngIf="service.loading$ | async">Loading...</span>
								<button type="button" routerLink="../insert" id="insertaccounts1"
									class="ml-auto btn btn-gradient-success btn-sm"
									routerLink="../insert">insert</button>
							</div>

							<!-- <div></div> -->
							<!-- </div> -->
						</form>
						<div class="table-responsive">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col">No</th>
										<th scope="col">NIP</th>
										<th scope="col">Name</th>
										<!-- <th scope="col">Company</th> -->
										<th scope="col">Role</th>
										<th scope="col">Contact</th>
										<th scope="col">Address</th>
										<th scope="col">Actions</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let user of users$ | async; index as i">
										<th scope="row">{{ (i + 1) + ((service.page -1) * service.pageSize) }}</th>
										<td>
											<ngb-highlight [result]="user.nip" [term]="service.searchTerm">
											</ngb-highlight>
										</td>
										<td>
											<ngb-highlight [result]="user.name" [term]="service.searchTerm">
											</ngb-highlight>
										</td>
										<td>
											<ngb-highlight [result]="user.idCompany.name" [term]="service.searchTerm">
											</ngb-highlight>
										</td>
										<td>
											<ngb-highlight [result]="user.idRole.name" [term]="service.searchTerm">
											</ngb-highlight>
										</td>
										<td>
											<ngb-highlight [result]="user.contact" [term]="service.searchTerm">
											</ngb-highlight>
										</td>
										<td>
											<ngb-highlight [result]="user.address" [term]="service.searchTerm">
											</ngb-highlight>
										</td>
										<td>
											<div class="btn-group" role="group" style="align-content: center;">
												<button type="button" routerLink="../update" [queryParams]="user"
													class="btn btn-outline-primary btn-sm">Update</button>
												<button type="button" (click)="deleteUser(user)"
													class="btn btn-outline-danger btn-sm">Delete</button>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>

						<div id="pagination" class="d-flex flex-wrap justify-content-between p-2">
							<ngb-pagination [collectionSize]="(total$ | async)!" [(page)]="service.page"
								[pageSize]="service.pageSize">
							</ngb-pagination>

							<select class="custom-select" style="width: auto" name="pageSize"
								[(ngModel)]="service.pageSize">
								<option [ngValue]="5">5 items per page</option>
								<option [ngValue]="10">10 items per page</option>
								<option [ngValue]="15">15 items per page</option>
							</select>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
</div>